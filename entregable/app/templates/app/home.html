{% extends "app/index.html" %}
{% load static %}
{% block viewContent %}

<h1 class="fst-italic lh-1 mb-4">MVT Django</h1>
<p class="mb-5">Buscar dentro de los modelos</p>

<form class="mb-4" action="/app/search" method="GET">
    {% comment %} 
    <div class="row input-group-newsletter mb-3">
        <div class="col"><input class="form-control" type="text" name="all_search" id="general" placeholder="Busqueda general" aria-label="Busqueda general"></div>
        <input class="btn btn-primary" type="submit" value="Buscar">
    </div> 
    {% endcomment %}
    <div class="row input-group-newsletter mb-3">
        <div class="col"><input class="form-control" type="text" name="car_search" id="car_search" placeholder="Busqueda autos" aria-label="Busqueda general"></div>
        <input class="btn btn-primary" type="submit" value="Buscar">
    </div>
    <div class="row input-group-newsletter mb-3">
        <div class="col"><input type="text" name="driver_search" id="driver_search" placeholder="Busqueda conductores"></div>
        <input class="btn btn-primary" type="submit" value="Buscar">
    </div>
    <div class="row input-group-newsletter mb-3">
        <div class="col"><input type="text" name="license_search" id="general" placeholder="Busqueda licencias"></div>
        <input class="btn btn-primary" type="submit" value="Buscar">
    </div>
</form>

{% if autos %}
    <ul>
        {% for auto in autos %}
            <li>
                Brand: {{auto.brand}} <br> Model: {{auto.model}} <br> Year: {{auto.year}}
            </li>
        {% endfor %}
    </ul>
{% endif %}

{% if conductores %}
    <ul>
        {% for conductor in conductores %}
            <li>
                {% if conductor.has_license %}
                Nombre: {{conductor.full_name}} <br> Día de nacimiento: {{conductor.day_of_birth}} <br> Email: {{conductor.email}} <br> Licencia?: Si
                {% else %}
                Nombre: {{conductor.full_name}} <br> Día de nacimiento: {{conductor.day_of_birth}} <br> Email: {{conductor.email}} <br> Licencia?: No
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% endif %}

{% if licencias %}
    <ul>
        {% for licencia in licencias %}
            <li>
                Número: {{licencia.number}} <br> Año: {{licencia.year}} <br> Dueño: {{licencia.owner}}
            </li>
        {% endfor %}
    </ul>
{% endif %}

{% if no %}
<div>No hay criterios de búsqueda</div>
{% endif %}

{% if no2 %}
<div>No hay criterios de búsqueda que coincidan</div>
{% endif %}

{% comment %} 
<form id="contactForm" data-sb-form-api-token="API_TOKEN">
    <!-- Email address input-->
    <div class="row input-group-newsletter">
        <div class="col"><input class="form-control" id="email" type="email" placeholder="Formulario de prueba" aria-label="Formulario de prueba" data-sb-validations="required,email" /></div>
        <div class="col-conductor"><button class="btn btn-primary disabled" id="submitButton" type="submit">Botón de prueba</button></div>
    </div>
    <div class="invalid-feedback mt-2" data-sb-feedback="email:required">Se requiere un email</div>
    <div class="invalid-feedback mt-2" data-sb-feedback="email:email">El email no es válido</div>
    <!-- Submit success message-->
    <div class="d-none" id="submitSuccessMessage">
        <div class="text-center mb-3 mt-2">
            <div class="fw-bolder">Formulario enviado exitosamente!</div>
            To activate this form, sign up at
            <br />
            <a href="https://startbootstrap.com/solution/contact-forms">https://startbootstrap.com/solution/contact-forms</a> 
        </div>
    </div>
    <!-- Submit error message-->
    <div class="d-none" id="submitErrorMessage"><div class="text-center text-danger mb-3 mt-2">Error al enviar el formulario!</div></div>
</form> 
{% endcomment %}

{% endblock %}